<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Truth Table Checker</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    table { border-collapse: collapse; margin-bottom: 15px; }
    td, th { border: 1px solid #000; padding: 6px; text-align: center; }
    input { width: 30px; text-align: center; }
    #result { font-weight: bold; margin-top: 10px; }
  </style>
</head>
<body>
  <h2>Truth Table Checker</h2>
  <p>Enter 0 or 1 in each box, then click "Check".</p>

  <table>
    <thead>
      <tr>
        <th>A</th>
        <th>B</th>
        <th>C</th>
        <th>T</th>
        <th>Out</th>
      </tr>
    </thead>
    <tbody id="table-body"></tbody>
  </table>

  <button onclick="checkTable()">Check</button>
  <div id="result"></div>

  <script>
    // Correct truth table (T column is fixed, outputs corrected to 00010111)
    const answerKey = [
      {A:0, B:0, C:0, T:0, Out:0},
      {A:0, B:0, C:1, T:0, Out:0},
      {A:0, B:1, C:0, T:0, Out:0},
      {A:0, B:1, C:1, T:0, Out:1},
      {A:1, B:0, C:0, T:0, Out:0},
      {A:1, B:0, C:1, T:0, Out:1},
      {A:1, B:1, C:0, T:0, Out:1},
      {A:1, B:1, C:1, T:0, Out:1}
    ];

    // Build table with inputs (T is prefilled, others blank)
    const tbody = document.getElementById("table-body");
    answerKey.forEach((row, i) => {
      const tr = document.createElement("tr");
      ["A","B","C","T","Out"].forEach(col => {
        const td = document.createElement("td");
        if (col === "T") {
          td.textContent = row[col]; // Prefill T column
        } else {
          const inp = document.createElement("input");
          inp.setAttribute("maxlength","1");
          inp.dataset.col = col;
          inp.dataset.row = i;
          td.appendChild(inp);
        }
        tr.appendChild(td);
      });
      tbody.appendChild(tr);
    });

    // Check function
    function checkTable(){
      let inputCorrect = 0;
      let outputCorrect = 0;

      for (let i = 0; i < answerKey.length; i++) {
        let rowCorrectInputs = true;
        let rowCorrectOutput = true;

        ["A","B","C"].forEach(col => {
          const inp = document.querySelector(`input[data-row='${i}'][data-col='${col}']`);
          if(inp.value.trim() !== String(answerKey[i][col])){
            rowCorrectInputs = false;
          }
        });

        const outInp = document.querySelector(`input[data-row='${i}'][data-col='Out']`);
        if(outInp.value.trim() !== String(answerKey[i]["Out"])){
          rowCorrectOutput = false;
        }

        if(rowCorrectInputs) inputCorrect++;
        if(rowCorrectOutput) outputCorrect++;
      }

      const result = document.getElementById("result");
      if(inputCorrect === 8 && outputCorrect === 8){
        result.textContent = "Correct âœ… All inputs and outputs are correct! | Gradescope Code: 315513";
        result.style.color = "green";
      } else {
        let feedback = `Inputs correct: ${inputCorrect}/8 | Outputs correct: ${outputCorrect}/8`;
        if(inputCorrect < 8){
          feedback += " | Hint: Refer to how the truth table inputs are shown in lessons 14 and 15.";
        }
        result.textContent = feedback;
        result.style.color = "red";
      }
    }
  </script>
</body>
</html>
